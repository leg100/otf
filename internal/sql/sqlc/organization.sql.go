// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: organization.sql

package sqlc

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const deleteOrganizationByName = `-- name: DeleteOrganizationByName :one
DELETE
FROM organizations
WHERE name = $1
RETURNING organization_id
`

func (q *Queries) DeleteOrganizationByName(ctx context.Context, name pgtype.Text) (pgtype.Text, error) {
	row := q.db.QueryRow(ctx, deleteOrganizationByName, name)
	var organization_id pgtype.Text
	err := row.Scan(&organization_id)
	return organization_id, err
}

const findOrganizationByID = `-- name: FindOrganizationByID :one
SELECT organization_id, created_at, updated_at, name, session_remember, session_timeout, email, collaborator_auth_policy, allow_force_delete_workspaces, cost_estimation_enabled FROM organizations WHERE organization_id = $1
`

func (q *Queries) FindOrganizationByID(ctx context.Context, organizationID pgtype.Text) (Organization, error) {
	row := q.db.QueryRow(ctx, findOrganizationByID, organizationID)
	var i Organization
	err := row.Scan(
		&i.OrganizationID,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.Name,
		&i.SessionRemember,
		&i.SessionTimeout,
		&i.Email,
		&i.CollaboratorAuthPolicy,
		&i.AllowForceDeleteWorkspaces,
		&i.CostEstimationEnabled,
	)
	return i, err
}

const findOrganizationByName = `-- name: FindOrganizationByName :one
SELECT organization_id, created_at, updated_at, name, session_remember, session_timeout, email, collaborator_auth_policy, allow_force_delete_workspaces, cost_estimation_enabled FROM organizations WHERE name = $1
`

func (q *Queries) FindOrganizationByName(ctx context.Context, name pgtype.Text) (Organization, error) {
	row := q.db.QueryRow(ctx, findOrganizationByName, name)
	var i Organization
	err := row.Scan(
		&i.OrganizationID,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.Name,
		&i.SessionRemember,
		&i.SessionTimeout,
		&i.Email,
		&i.CollaboratorAuthPolicy,
		&i.AllowForceDeleteWorkspaces,
		&i.CostEstimationEnabled,
	)
	return i, err
}

const findOrganizationByNameForUpdate = `-- name: FindOrganizationByNameForUpdate :one
SELECT organization_id, created_at, updated_at, name, session_remember, session_timeout, email, collaborator_auth_policy, allow_force_delete_workspaces, cost_estimation_enabled
FROM organizations
WHERE name = $1
FOR UPDATE
`

func (q *Queries) FindOrganizationByNameForUpdate(ctx context.Context, name pgtype.Text) (Organization, error) {
	row := q.db.QueryRow(ctx, findOrganizationByNameForUpdate, name)
	var i Organization
	err := row.Scan(
		&i.OrganizationID,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.Name,
		&i.SessionRemember,
		&i.SessionTimeout,
		&i.Email,
		&i.CollaboratorAuthPolicy,
		&i.AllowForceDeleteWorkspaces,
		&i.CostEstimationEnabled,
	)
	return i, err
}

const findOrganizationNameByWorkspaceID = `-- name: FindOrganizationNameByWorkspaceID :one
SELECT organization_name
FROM workspaces
WHERE workspace_id = $1
`

func (q *Queries) FindOrganizationNameByWorkspaceID(ctx context.Context, workspaceID pgtype.Text) (pgtype.Text, error) {
	row := q.db.QueryRow(ctx, findOrganizationNameByWorkspaceID, workspaceID)
	var organization_name pgtype.Text
	err := row.Scan(&organization_name)
	return organization_name, err
}

const insertOrganization = `-- name: InsertOrganization :exec
INSERT INTO organizations (
    organization_id,
    created_at,
    updated_at,
    name,
    email,
    collaborator_auth_policy,
    cost_estimation_enabled,
    session_remember,
    session_timeout,
    allow_force_delete_workspaces
) VALUES (
    $1,
    $2,
    $3,
    $4,
    $5,
    $6,
    $7,
    $8,
    $9,
    $10
)
`

type InsertOrganizationParams struct {
	ID                         pgtype.Text
	CreatedAt                  pgtype.Timestamptz
	UpdatedAt                  pgtype.Timestamptz
	Name                       pgtype.Text
	Email                      pgtype.Text
	CollaboratorAuthPolicy     pgtype.Text
	CostEstimationEnabled      pgtype.Bool
	SessionRemember            pgtype.Int4
	SessionTimeout             pgtype.Int4
	AllowForceDeleteWorkspaces pgtype.Bool
}

func (q *Queries) InsertOrganization(ctx context.Context, arg InsertOrganizationParams) error {
	_, err := q.db.Exec(ctx, insertOrganization,
		arg.ID,
		arg.CreatedAt,
		arg.UpdatedAt,
		arg.Name,
		arg.Email,
		arg.CollaboratorAuthPolicy,
		arg.CostEstimationEnabled,
		arg.SessionRemember,
		arg.SessionTimeout,
		arg.AllowForceDeleteWorkspaces,
	)
	return err
}

const updateOrganizationByName = `-- name: UpdateOrganizationByName :one
UPDATE organizations
SET
    name = $1,
    email = $2,
    collaborator_auth_policy = $3,
    cost_estimation_enabled = $4,
    session_remember = $5,
    session_timeout = $6,
    allow_force_delete_workspaces = $7,
    updated_at = $8
WHERE name = $9
RETURNING organization_id
`

type UpdateOrganizationByNameParams struct {
	NewName                    pgtype.Text
	Email                      pgtype.Text
	CollaboratorAuthPolicy     pgtype.Text
	CostEstimationEnabled      pgtype.Bool
	SessionRemember            pgtype.Int4
	SessionTimeout             pgtype.Int4
	AllowForceDeleteWorkspaces pgtype.Bool
	UpdatedAt                  pgtype.Timestamptz
	Name                       pgtype.Text
}

func (q *Queries) UpdateOrganizationByName(ctx context.Context, arg UpdateOrganizationByNameParams) (pgtype.Text, error) {
	row := q.db.QueryRow(ctx, updateOrganizationByName,
		arg.NewName,
		arg.Email,
		arg.CollaboratorAuthPolicy,
		arg.CostEstimationEnabled,
		arg.SessionRemember,
		arg.SessionTimeout,
		arg.AllowForceDeleteWorkspaces,
		arg.UpdatedAt,
		arg.Name,
	)
	var organization_id pgtype.Text
	err := row.Scan(&organization_id)
	return organization_id, err
}
