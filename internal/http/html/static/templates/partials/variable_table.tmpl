{{ define "variable-table" }}
  <table class="table w-full text-left break-words border-collapse" id="variables-table">
    <thead class="">
      <tr>
        <th class="w-[25%]">Key</th>
        <th class="w-[50%]">Value</th>
        <th class="w-[15%]">Category</th>
        <th class="w-[10%]"></th>
      </tr>
    </thead>
    <tbody class="">
      {{ range .Variables }}
        <tr class="">
        <tr id="item-variable-{{ .Key }}" x-data="block_link($el, '{{ $.EditPath .ID }}')">
          <td class="">
            {{ if $.IsOverwritten . }}
              <span class="bg-orange-100 text-xs font-semibold p-1">OVERWRITTEN</span>
              <s>
            {{ end }}
            {{ .Key }}
            {{ if $.IsOverwritten . }}
              </s>
            {{ end }}
          </td>
          <td class="">{{ if .Sensitive }}<span class="badge badge-ghost">hidden</span>{{ else }}{{ .Value }}{{ end }}</td>
          <td class="">{{ .Category }}</td>
          <td class="text-right">
            {{ if $.CanDeleteVariable }}
              <form action="{{ $.DeletePath .ID }}" method="POST">
                <button id="delete-variable-button" class="btn btn-error btn-xs" onclick="return confirm('Are you sure you want to delete?')">Delete</button>
              </form>
            {{ end }}
          </td>
        </tr>
      {{ else }}
        <tr>
          <td>No variables currently exist.</td>
        </tr>
      {{ end }}
    </tbody>
  </table>
{{ end }}
