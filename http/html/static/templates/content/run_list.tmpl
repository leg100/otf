{{ template "layout" . }}

{{ define "title" }}Runs{{ end }}

{{ define "container-header" }}
  <a href="{{ listWorkspacePath .Content.Workspace }}">workspaces</a>
  /
  <a href="{{ getWorkspacePath .Content.Workspace }}">{{ .Content.Workspace.WorkspaceName }}</a>
  /
  runs
{{ end }}

{{ define "content" }}
  <table class="table">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Status</th>
        <th scope="col">Plan</th>
        <th scope="col">Apply</th>
        <th scope="col">Updated</th>
      </tr>
    </thead>
    <tbody>
      {{ range .Content.List.Items }}
        <tr>
          <td><a class="identifier" href="{{ getRunPath . }}">{{ .ID }}</a></td>
          <td><span class="status-{{ .Status }}">{{ .Status }}</span></td>
          <td><a href="{{ getPlanPath . }}">logs</a></td>
          <td><a href="{{ getApplyPath . }}">logs</a></td>
          <td>{{ ago .CreatedAt }} ago</td>
        </tr>
      {{ end }}
    </tbody>
  </table>
{{ end }}
