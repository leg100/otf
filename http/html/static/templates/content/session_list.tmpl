{{ template "layout" . }}

{{ define "title" }}Sessions{{ end }}

{{ define "sidebar" }}{{ template "me_sidebar" . }}{{ end }}

{{ define "content" }}
  <table>
    <thead>
      <tr>
        <th scope="col">Address</th>
        <th scope="col">Active</th>
        <th scope="col">Revoke</th>
      </tr>
    </thead>
    <tbody>
      {{ range .Content.Sessions }}
      <tr>
        <td>{{ .Address }}</td>

        {{ if .IsActive $.Content.ActiveToken }}
        <td>&#10004;</td>
        <td></td>
        {{ else }}
        <td></td>
        <td>
          <form action="{{ $.Path "revokeSession" }}" method="POST">
            <button>Revoke</button>
            <input type="hidden" name="token" value="{{ .Token }}">
          </form>
        </td>
        {{ end }}
      </tr>
      {{ end }}
    </tbody>
  </table>
{{ end }}
