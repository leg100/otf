{{ template "layout" . }}

{{ define "title" }}module: {{ .Content.Name }}{{ end }}

{{ define "container-header" }}
  <a href="{{ modulesPath .Content.Organization.Name }}">modules</a> / {{ .Content.Name }}
{{ end }}

{{ define "content" }}
  <div class="horizontal">
    <form action="{{ modulePath .Content.ID }}" method="GET">
      <div>
        <label>Version</label>
        <select name="version" id="version" onchange="this.form.submit()">
          {{ range .Content.Versions }}
            {{ if eq .Status "ok" }}
              <option value="{{ .Version }}" {{ selected .Version $.Content.CurrentVersion.Version }}>{{ .Version }}</option>
            {{ end }}
          {{ end }}
        </select>
      </div>
    </form>
    <div>
      Source <span class="data">{{ .Content.Repo.Identifier }}</span>
    </div>
  </div>
  <form class="module-delete-button" action="{{ deleteModulePath .Content.ID }}" method="POST">
    <button class="delete" onclick="return confirm('Are you sure you want to delete?')">Delete module</button>
  </form>
{{ end }}
